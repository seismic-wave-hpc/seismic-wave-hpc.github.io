---
title: その他のジョブ
date: 2024-08-26
date-modified: 2024-08-29
abstract: "Wisteria/BDEC-01は，先に説明した大規模計算ジョブだけでなく，一つのCPUだけを使った日常的な解析にも活用できます．ここではそのための専用ジョブについて紹介します．"
---

Wisteria/BDEC-01のログインノードはいわゆるLinuxマシンですから，先の [環境設営](./BDEC-02-environment.md) が済んでいれば，大規模数値シミュレーション以外の地震波解析や可視化などの解析にも活用できます．

とはいえ，Wisteria/BDEC-01は多くのユーザーが共通で利用するマシンのため，ログインノードで負荷の高い計算をすることは，マナー違反です．あまりにも長い計算は，自動的に打ち切られることもあります．その代わりに，ログインノードあるいは計算ノードのうち1ノード（1CPU）を一定時間のあいだ専有的に使う方法が提供されています．それが，**インタラクティブジョブ**と**プリポストジョブ**です．

## インタラクティブジョブとプリポストジョブ

インタラクティブジョブとプリポストジョブ，というのは，いずれも `pjsub` コマンドにより投入する計算ジョブです．しかし，スクリプトに書かれた内容を実行するのではなく，一定時間の間インタラクティブに計算ノードを使うことができるジョブです．

インタラクティブジョブは，自分のグループ名を `${group}` として，以下のように実行できます．

```bash
pjsub --interact -g ${group} -L rscgrp=interactive-o,node=1
```

::: {.callout-caution}
`rscgrp=interactive-o,node=1` は，`rscgrp=interactive-o, node=1` のように空白をいれるとまさしく認識されません．
:::

::: {.callout-important}
インタラクティブジョブは `/home/` 以下では実行できません．まず `/work/${group}` 以下に `cd` してから使います．また，実行後に `/home` 以下のファイルにもアクセスできません．
:::

同様に，プリポストジョブは，以下のコマンドで実行できます．

```bash
pjsub --interact -g ${group} -L rscgrp=prepost,node=1
```

一見使い方はほとんど同じですが，インタラクティブジョブとプリポストジョブでは，使える環境が異なります．
インタラクティブジョブでは計算ノードが，プリポストジョブはログインノードに似たIntelベースの環境が割り当てられます．

### どちらを使うべきか

プリポストジョブはもともと数値計算結果の可視化処理などに利用することが想定されています．プリポストノードは6時間の時間制限がありますが，**338GB**もの大容量メモリを使えます．それ以外にも，インテルコンパイラなどが整っていますし，自分で構築した [Python環境](./BDEC-02-environment.md) も使えますから，通常のデータ解析用のLinuxマシンとしても便利に活用できるでしょう．

一方でインタラクティブジョブは，いちいちジョブスクリプトを書かずに計算ノードでコードを走らせられるので，スパコンで動作させるための計算プログラムのデバッグや簡単なテストに便利です．インタラクティブジョブではクロスコンパイルは動かず，代わりに `frt` や `fcc` がオウンコンパイラ（クロスコンパイラの対義）として使えます．
